<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>PHP Framework</title><link href="http://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet"></link><link rel="stylesheet" href="../css/template.css" type="text/css"></link><script type="text/javascript" src="../js/jquery-1.7.1.min.js"></script><script type="text/javascript" src="../js/bootstrap.min.js"></script><script type="text/javascript" src="../js/template.js"></script></head><body><div id="content"><h1 class="file">lib/util/SQL.php<a href="../source/lib/util/SQL.php.html" role="button" class="pull-right btn btn-default"><i class="fa fa-2x fa-code"></i></a></h1><div id="file-nav-box"><div id="file-nav-options">
              Show:
              <img src="../images/icons/visibility_public.png" alt="Public" id="show-public"></img><img src="../images/icons/visibility_protected.png" alt="Protected" id="show-protected"></img><img src="../images/icons/visibility_private.png" alt="Private" id="show-private"></img><span class="attribute" id="show-inherited">inherited</span></div><div id="file-nav-container"><ul id="file-nav"><li><a href="#classes"><img src="../images/icons/class.png" alt="Class" height="14"></img>
                          Classes
                      </a><ul><li><a href="#\SQL">\SQL</a></li></ul></li></ul><div style="clear: left;"></div></div><div id="file-nav-tab">
              Table of Contents
          </div></div><a name="top" class="anchor"></a><div id="file-description"><div class="long-description"></div></div><a name="classes" class="anchor"></a><a id="\SQL" class="anchor"></a><h2 class="class">\SQL<div class="to-top"><a href="#top">jump to top</a></div></h2><div class="class"><small class="package"><b>Package: </b>Default</small><div class="short-description">A class that does all the extra bookkeeping surrounding my_sql queries.</div><div class="long-description">It includes error throwing, automated debug, and automated benchmarking.
Also available is a compact form for processing each row of a result.
Maintains a list of all queries and results.</div><dl class="class-info"><dt>Author</dt><dd>kenstclair
         
    </dd></dl><h3>Properties</h3><div><a id="\SQL::$queries" class="anchor"></a><div class="property public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png" alt="&gt;"></img><img src="../images/icons/arrow_down.png" alt="V" style="display: none;"></img></a><code class="title"><img src="../images/icons/property.png" alt="Property"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">$queries</span> = array()</code><div class="description"><span class="attribute">static</span></div><div class="code-tabs"><div class="long-description"></div><strong>Default value</strong><code>array()</code><strong>Details</strong><dl class="property-info"><dt>Type</dt><dd>n/a</dd></dl></div><div class="clear"></div></div><a id="\SQL::$results" class="anchor"></a><div class="property public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png" alt="&gt;"></img><img src="../images/icons/arrow_down.png" alt="V" style="display: none;"></img></a><code class="title"><img src="../images/icons/property.png" alt="Property"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">$results</span> = array()</code><div class="description"><span class="attribute">static</span></div><div class="code-tabs"><div class="long-description"></div><strong>Default value</strong><code>array()</code><strong>Details</strong><dl class="property-info"><dt>Type</dt><dd>n/a</dd></dl></div><div class="clear"></div></div></div><h3>Methods</h3><div><a id="\SQL::foreachrow()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">foreachrow</span><span class="nb-faded-text">( $func,  $result = null)</span> : <a href="../files/an.html">\an</a></code><div class="description"><span class="attribute">static</span><p class="short_description">A compact form for processing rows.</p></div><div class="code-tabs"><div class="long-description">It will automatically use the last query run as its
result set. To use a different result set, pass in
the result as the second parameter.

Invoked like this:
SQL::query($query);
SQL::foreachrow(function($row){
		...
});

or more simply:
SQL::query($query, function($row){...});
or using function in classes:
SQL::query($query, array($class_name, $class_function_name));</div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$func</th><td></td><td><em><p>the function that processes each row</p></em></td></tr><tr><th>$result</th><td></td><td><em><p>optional</p></em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td><a href="../files/an.html">\an</a></td><td>array of the return values from $func on each row</td></tr></table></div><div class="clear"></div></div><a id="\SQL::query()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">query</span><span class="nb-faded-text">(string $query, <a href="../files/function.html">\function</a> $func = null)</span> : void</code><div class="description"><span class="attribute">static</span><p class="short_description">Run a sql query.</p></div><div class="code-tabs"><div class="long-description">Automatically creates debug output with the query and result (if DEBUG is active).
Automatically creates benchmark points before and after the query (if BENCHMARK is active).
Throws an error if the query is malformed (and ERROR is active).
Stores the query and result in lockstep arrays.

Also takes an optional function to run on each row.

Usage:
$result = SQL::query($query);

or with a function applied to each row:
$processed_results = SQL::query($query, function($row){...});

or using a function in a classes:
$processed_results = SQL::query($query, array($class_name, $class_function_name));</div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$query</th><td>string</td><td><em></em></td></tr><tr><th>$func</th><td><a href="../files/function.html">\function</a></td><td><em><p>a function to run on each row</p></em></td></tr></table></div><div class="clear"></div></div></div></div></div><small class="footer">
            Documentation was generated by
            <a href="http://phpdoc.org">phpDocumentor
                2.2.0
</a>.
        </small></body></html>
